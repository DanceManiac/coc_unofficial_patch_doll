; Uniq characters

; Guid

[logic@bar_visitors_guid]
suitable = {=check_npc_name(bar_visitors_guid)} true
prior = 140
active = walker@base
can_select_weapon = true
dont_keep_items = true
level_spot = quest_npc

[walker@base]
path_walk = guid_bar_1_walk
path_look  = guid_bar_1_look
gather_items_enabled = false
help_wounded_enabled = false
on_game_timer = 2500 | remark@smoke_guid
on_info = {=is_night} animpoint@bar
corpse_detection_enabled = false
invulnerable = {=is_warfare} false, {!actor_true_enemy} true, false
combat_ignore_cond = {=is_warfare} false, {=actor_true_enemy =check_enemy_name(actor)} false, true
combat_ignore_keep_when_attacked = {=is_warfare} false, true
meet = meet@guid

[animpoint@bar]
cover_name = bar_visitors_guid_cover_rest
avail_animations = animpoint_stay_table
on_info = {!is_night} walker@base
gather_items_enabled = false
help_wounded_enabled = false
corpse_detection_enabled = false
invulnerable = {=is_warfare} false, {!actor_true_enemy} true, false
combat_ignore_cond = {=is_warfare} false, {=actor_true_enemy =check_enemy_name(actor)} false, true
combat_ignore_keep_when_attacked = {=is_warfare} false, true
meet = meet

[remark@smoke_guid]:walker@base
anim = smoking_stand
meet = meet = meet
on_game_timer = 1200 | walker@base

[meet@guid]
close_anim 			= nil
close_victim 		= nil
far_anim 			= nil
far_victim 			= nil
close_distance  	= 0
far_distance 		= 0
close_snd_distance  = 3
abuse           	= false
use 				= {=actor_enemy} false, true
allow_break 		= false
meet_on_talking 	= false

; Informator

[logic@bar_visitors_informator]
suitable = {=check_npc_name(bar_informator_mlr)} true
prior = 140
active = animpoint@informator
can_select_weapon = true
dont_keep_items = true
level_spot = special

[animpoint@informator]
cover_name = bar_visitors_informator_cover
avail_animations = animpoint_stay_wall
gather_items_enabled = false
help_wounded_enabled = false
corpse_detection_enabled = false
invulnerable = {=is_warfare} false, {!actor_true_enemy} true, false
combat_ignore_cond = {=is_warfare} false, {=actor_true_enemy =check_enemy_name(actor)} false, true
combat_ignore_keep_when_attacked = {=is_warfare} false, true
meet = meet@informator

[meet@informator]
close_snd_hello	 	= bar_informer_1_mlr
close_anim 			= nil
close_victim 		= nil
far_anim 			= nil
far_victim 			= nil
close_distance  	= 0
far_distance 		= 0
close_snd_distance 	= 3
abuse           	= false
use 				= {=actor_enemy} false, true
allow_break 		= false
meet_on_talking 	= false

; Arnie

[logic@bar_arena_manager]
active = animpoint@bar_arena_manager
suitable = {!is_night =check_npc_name(bar_arena_manager)} true
level_spot = quest_npc
prior = 200

[animpoint@bar_arena_manager]
cover_name = bar_arena_manager_cover
avail_animations = animpoint_sit_normal
meet = meet@bar_arena_manager
combat_ignore_cond = {=is_warfare} false, {=actor_enemy =check_enemy_name(actor)} false, true
combat_ignore_keep_when_attacked = {=is_warfare} false, true
invulnerable = {!actor_enemy} true, false
corpse_detection_enabled = false
gather_items_enabled = false
help_wounded_enabled = false
use_camp = false
on_game_timer = 4200 | animpoint@bar_arena_manager_2

[animpoint@bar_arena_manager_2]
cover_name = bar_arena_manager_cover_smoke
avail_animations = smoking_stand
meet = meet@bar_arena_manager
combat_ignore_cond = {=is_warfare} false, {=actor_enemy =check_enemy_name(actor)} false, true
combat_ignore_keep_when_attacked = {=is_warfare} false, true
invulnerable = {=is_warfare} false, {!actor_enemy} true, false
corpse_detection_enabled = false
gather_items_enabled = false
help_wounded_enabled = false
use_camp = false
on_game_timer = 800 | animpoint@bar_arena_manager

[meet@bar_arena_manager]
close_anim 		= nil
close_victim 	= nil
far_anim 		= nil
far_victim 		= nil
close_distance  = 0
far_distance    = 0
use = true
trade_enable = false

; Liolik

[logic@bar_arena_guard]
active = animpoint@bar_arena_guard_sit
suitable = {=check_npc_name(bar_arena_guard)} true
prior = 200

[animpoint@bar_arena_guard_sit]
cover_name = bar_arena_guard_sit_cover
avail_animations = animpoint_sit_normal_weapon
meet = meet@bar_arena_guard
combat_ignore_cond = {=is_warfare} false, {=actor_enemy =check_enemy_name(actor)} false, true
combat_ignore_keep_when_attacked = {=is_warfare} false, true
invulnerable = {=is_warfare} false, {!actor_enemy} true, false
corpse_detection_enabled = false
gather_items_enabled = false
help_wounded_enabled = false
use_camp = false
on_info = {=is_night} animpoint@bar_arena_guard_sit_sleep

[animpoint@bar_arena_guard_sit_sleep]
cover_name = bar_arena_guard_sit_cover
avail_animations = animpoint_sit_normal_sleep
meet = no_meet
combat_ignore_cond = {=is_warfare} false, {=actor_enemy =check_enemy_name(actor)} false, true
combat_ignore_keep_when_attacked = true
invulnerable = {=is_warfare} false, {!actor_enemy} true, false
corpse_detection_enabled = false
gather_items_enabled = false
help_wounded_enabled = false
use_camp = false
on_info = {!is_night} animpoint@bar_arena_guard_sit

[meet@bar_arena_guard]
use			    = false
use_wpn		    = true
abuse           = false
close_anim 		= nil
close_victim 	= nil
far_anim 		= nil
far_victim 		= nil
close_distance = 0
far_distance = 0

; Tech

[logic@bar_visitors_cardan_tech]
suitable = {=check_npc_name(bar_visitors_stalker_mechanic)} true, {=check_npc_mechanic} true
prior = 100
active = animpoint@tech
can_select_weapon = {=is_warfare} true, false
level_spot = mechanic
trade = items\trade\trade_generic_mechanic.ltx
dont_keep_items = true

[animpoint@tech]
cover_name = bar_visitors_cardan_tech
reach_distance = 1
avail_animations = zat_b3_tech_idle
use_camp = false
meet = meet@bar_visitors_cardan_tech
on_info = {+bar_visitors_tech_out =dist_to_actor_ge(20)} animpoint@sleep, {+bar_visitors_tech_drinking +bar_visitors_tech_out} animpoint@drinking %-bar_visitors_tech_drinked_out%, {+bar_visitors_tech_drinking +bar_visitors_tech_have_couple_dose} animpoint@drinking %-bar_visitors_tech_drinked_out%, {+bar_visitors_tech_drinking +bar_visitors_tech_have_one_dose} animpoint@drinking %-bar_visitors_tech_drinked_out%
;on_info2 = {=dist_to_actor_ge(75)} %-bar_visitors_tech_greetings%, {=see_actor =dist_to_actor_le(3) -zat_b3_mech_greetings}  %=play_sound(zat_b3_tech_realy_drunk) +bar_visitors_tech_greetings%
on_info3 = {=dist_to_actor_ge(20)} %+bar_visitors_tech_waked_up +bar_visitors_tech_drinked_out%
on_game_timer = 100 | %+bar_visitors_tech_waked_up +bar_visitors_tech_drinked_out% 
combat_ignore_cond = {=is_warfare} false, {=actor_enemy =check_enemy_name(actor)} false, true
combat_ignore_keep_when_attacked = {=is_warfare} false, true
invulnerable = {=is_warfare} false, {!actor_enemy} true, false
gather_items_enabled = false
help_wounded_enabled = false
corpse_detection_enabled = false
on_info5 = {=npc_talking} animpoint@short_idle
on_info6 = {=is_night} animpoint@night

[animpoint@short_idle]:animpoint@tech
avail_animations = zat_b3_tech_idle_short
on_actor_dist_ge_nvis = 10 | animpoint@tech

[meet@bar_visitors_cardan_tech]
close_snd_hello = nil
close_snd_bye   = nil
close_anim 		= nil
close_victim 	= nil
far_anim 		= nil
far_victim 		= nil
close_distance  = 0
far_distance 	= 0
;use = {+bar_visitors_tech_waked_up +bar_visitors_tech_drinked_out} true, false
use = true
allow_break = false
;meet_dialog	= {+bar_visitors_tech_see_produce_62 -zat_a23_actor_has_access_card_to_testing_workshop} zat_b3_stalker_tech_produce_62_start
meet_on_talking = false

[animpoint@drinking]
cover_name = bar_visitors_cardan_tech
reach_distance = 1
avail_animations = zat_b3_tech_drink
use_camp = false
on_game_timer = 37 | {-bar_visitors_tech_take_dose +bar_visitors_tech_out} %=play_sound(zat_b3_tech_take_third_dose) +bar_visitors_tech_take_dose%
on_game_timer2 = 42 | {+bar_visitors_tech_out} animpoint@sleep %-bar_visitors_tech_drinking -bar_visitors_tech_take_dose -bar_visitors_tech_waked_up%, animpoint@base %-bar_visitors_tech_drinking -bar_visitors_tech_take_dose%
meet = no_meet
combat_ignore_cond = {=actor_enemy =check_enemy_name(actor)} false, true
combat_ignore_keep_when_attacked = true
invulnerable = {!actor_enemy} true, false
gather_items_enabled = false
help_wounded_enabled = false
corpse_detection_enabled = false

[animpoint@sleep]
cover_name = bar_visitors_cardan_tech
reach_distance = 1
avail_animations = zat_b3_tech_drunk
use_camp = false
on_game_timer = 220 | %+zat_a2_mech_sleep_sound%
on_info = {-bar_visitors_tech_out} animpoint@tech  %-zat_a2_mech_sleep_sound%
on_info2 = {=dist_to_actor_ge(20)} %-bar_visitors_tech_sleeping%, {=see_actor =dist_to_actor_le(4) -bar_visitors_tech_sleeping +zat_a2_mech_sleep_sound} %=play_sound(zat_b3_tech_sleep_) +bar_visitors_tech_sleeping -bar_visitors_tech_out -bar_visitors_tech_have_couple_dose -bar_visitors_tech_have_one_dose%
meet = meet@sleep
combat_ignore_cond = {=actor_enemy =check_enemy_name(actor)} false, true
combat_ignore_keep_when_attacked = true
invulnerable = {!actor_enemy} true
gather_items_enabled = false
help_wounded_enabled = false
corpse_detection_enabled = false

[animpoint@night]
cover_name = bar_visitors_cardan_sleep
reach_distance = 1
use_camp = false
meet = no_meet
combat_ignore_cond = {=actor_enemy =check_enemy_name(actor)} false, true
combat_ignore_keep_when_attacked = true
invulnerable = {!actor_enemy} true
gather_items_enabled = false
help_wounded_enabled = false
corpse_detection_enabled = false
on_info = {!is_night} animpoint@tech

[meet@sleep]
close_snd_hello = nil
close_snd_bye   = nil
close_anim 		= nil
close_victim 	= nil
far_anim 		= nil
far_victim 		= nil
close_distance  = 0
far_distance 	= 0
snd_on_use = zat_b3_tech_no_sleep_
abuse = false
use	= false
meet_on_talking = false

; Garik

[logic@bar_guard1]
active = animpoint@guard_door
suitable = {=check_npc_name(bar_visitors_garik_stalker_guard)} true
prior = 100

[animpoint@guard_door]
cover_name = bar_guard1_animpoint_1
use_camp = false
turn_on_campfire = false
avail_animations = animpoint_stay_ohrana
meet = meet@bar_guard1
corpse_detection_enabled = false
gather_items_enabled = false
help_wounded_enabled = false
danger = danger_ignore
on_game_timer = 4700 | walker@smoke

[walker@smoke]
path_walk = bar_guard1_1_walk
path_look = bar_guard1_1_look
anim = smoking_stand
on_game_timer = 1200 | animpoint@guard_door
meet = no_meet
corpse_detection_enabled = false
gather_items_enabled = false
help_wounded_enabled = false
danger = danger_ignore

[meet@bar_guard1]
close_victim = actor
close_anim = guard
far_anim 		= nil
far_victim 		= nil
close_distance  = 2
far_distance 	= 0
close_snd_distance = 2
abuse           = false
use = {=actor_enemy} false, true
allow_break = false
meet_on_talking = false

; Zhorik?

[logic@bar_guard2]
active = animpoint@bar_guard2
suitable = {=check_npc_name(bar_visitors_zhorik_stalker_guard2)} true
prior = 100

[animpoint@bar_guard2]
cover_name = bar_guard2_animpoint_1
use_camp = false
turn_on_campfire = false
avail_animations = animpoint_sit_normal_weapon
meet = meet@bar_guard_2
corpse_detection_enabled = false
gather_items_enabled = false
help_wounded_enabled = false
danger = danger_ignore
on_game_timer = 3600 | animpoint@bar_guard2_2

[animpoint@bar_guard2_2]
cover_name = bar_guard2_animpoint_2
use_camp = false
turn_on_campfire = false
meet = no_meet
corpse_detection_enabled = false
gather_items_enabled = false
help_wounded_enabled = false
danger = danger_ignore
on_game_timer = 700 | animpoint@bar_guard2

[meet@bar_guard_2]
close_distance = 5
close_victim = actor
close_anim = guard
close_snd_hello = bar_guard_prohodi
close_snd_distance = 5
use			    = false
use_wpn		    = true
abuse           = false

[danger_ignore]
ignore_distance 	= 0

; Arena spectators

[walker@generic]
gather_items_enabled = false
help_wounded_enabled = false
corpse_detection_enabled = false
turn_on_campfire = false

[logic@bar_visitors_animp_arena_1]
active = animpoint@bar_visitors_animp_arena_1
suitable = {+bar_arena_start =npc_community(stalker) =npc_in_zone(bar_dolg_territory)} true, {+bar_arena_start =npc_community(dolg) =npc_in_zone(bar_dolg_territory)} true
prior = 70

[animpoint@bar_visitors_animp_arena_1]:walker@generic
reach_movement = sprint
cover_name = bar_visitors_animp_arena_1
avail_animations = hello_wpn
meet = no_meet
combat_ignore_cond = true
combat_ignore_keep_when_attacked = false
invulnerable = {=is_warfare} false, true
on_info = %=play_sound(arena_public)%
on_info2 = {-bar_arena_start} %=stop_sound%

[logic@bar_visitors_animp_arena_2]
active = animpoint@bar_visitors_animp_arena_2
suitable = {+bar_arena_start =npc_community(stalker) =npc_in_zone(bar_dolg_territory)} true, {+bar_arena_start =npc_community(dolg) =npc_in_zone(bar_dolg_territory)} true
prior = 70

[animpoint@bar_visitors_animp_arena_2]:walker@generic
reach_movement = sprint
cover_name = bar_visitors_animp_arena_2
avail_animations = hello_wpn
meet = no_meet
combat_ignore_cond = true
combat_ignore_keep_when_attacked = false
invulnerable = {=is_warfare} false, true
on_info = %=play_sound(arena_public)%
on_info2 = {-bar_arena_start} %=stop_sound%

[logic@bar_visitors_animp_arena_3]
active = animpoint@bar_visitors_animp_arena_3
suitable = {+bar_arena_start =npc_community(stalker) =npc_in_zone(bar_dolg_territory)} true, {+bar_arena_start =npc_community(dolg) =npc_in_zone(bar_dolg_territory)} true
prior = 70

[animpoint@bar_visitors_animp_arena_3]:walker@generic
reach_movement = sprint
cover_name = bar_visitors_animp_arena_3
avail_animations = hello_wpn
meet = no_meet
combat_ignore_cond = true
combat_ignore_keep_when_attacked = false
invulnerable = {=is_warfare} false, true
on_info = %=play_sound(arena_public)%
on_info2 = {-bar_arena_start} %=stop_sound%

[logic@bar_visitors_animp_arena_4]
active = animpoint@bar_visitors_animp_arena_4
suitable = {+bar_arena_start =npc_community(stalker) =npc_in_zone(bar_dolg_territory)} true, {+bar_arena_start =npc_community(dolg) =npc_in_zone(bar_dolg_territory)} true
prior = 70

[animpoint@bar_visitors_animp_arena_4]:walker@generic
reach_movement = sprint
cover_name = bar_visitors_animp_arena_4
avail_animations = hello_wpn
meet = no_meet
combat_ignore_cond = true
combat_ignore_keep_when_attacked = false
invulnerable = {=is_warfare} false, true
on_info = %=play_sound(arena_public)%
on_info2 = {-bar_arena_start} %=stop_sound%

[logic@bar_visitors_animp_arena_5]
active = animpoint@bar_visitors_animp_arena_5
suitable = {+bar_arena_start =npc_community(stalker) =npc_in_zone(bar_dolg_territory)} true, {+bar_arena_start =npc_community(dolg) =npc_in_zone(bar_dolg_territory)} true
prior = 70

[animpoint@bar_visitors_animp_arena_5]:walker@generic
reach_movement = sprint
cover_name = bar_visitors_animp_arena_5
avail_animations = hello_wpn
meet = no_meet
combat_ignore_cond = true
combat_ignore_keep_when_attacked = false
invulnerable = {=is_warfare} false, true
on_info = %=play_sound(arena_public)%
on_info2 = {-bar_arena_start} %=stop_sound%

[logic@bar_visitors_animp_arena_6]
active = animpoint@bar_visitors_animp_arena_6
suitable = {+bar_arena_start =npc_community(stalker) =npc_in_zone(bar_dolg_territory)} true, {+bar_arena_start =npc_community(dolg) =npc_in_zone(bar_dolg_territory)} true
prior = 70

[animpoint@bar_visitors_animp_arena_6]:walker@generic
reach_movement = sprint
cover_name = bar_visitors_animp_arena_6
avail_animations = hello_wpn
meet = no_meet
combat_ignore_cond = true
combat_ignore_keep_when_attacked = false
invulnerable = {=is_warfare} false, true
on_info = %=play_sound(arena_public)%
on_info2 = {-bar_arena_start} %=stop_sound%

[logic@bar_visitors_animp_arena_7]
active = animpoint@bar_visitors_animp_arena_7
suitable = {+bar_arena_start =npc_community(stalker) =npc_in_zone(bar_dolg_territory)} true, {+bar_arena_start =npc_community(dolg) =npc_in_zone(bar_dolg_territory)} true
prior = 70

[animpoint@bar_visitors_animp_arena_7]:walker@generic
reach_movement = sprint
cover_name = bar_visitors_animp_arena_7
avail_animations = hello_wpn
meet = no_meet
combat_ignore_cond = true
combat_ignore_keep_when_attacked = false
invulnerable = {=is_warfare} false, true
on_info = %=play_sound(arena_public)%
on_info2 = {-bar_arena_start} %=stop_sound%

[logic@bar_visitors_animp_arena_8]
active = animpoint@bar_visitors_animp_arena_8
suitable = {+bar_arena_start =npc_community(stalker) =npc_in_zone(bar_dolg_territory)} true, {+bar_arena_start =npc_community(dolg) =npc_in_zone(bar_dolg_territory)} true
prior = 70

[animpoint@bar_visitors_animp_arena_8]:walker@generic
reach_movement = sprint
cover_name = bar_visitors_animp_arena_8
avail_animations = hello_wpn
meet = no_meet
combat_ignore_cond = true
combat_ignore_keep_when_attacked = false
invulnerable = {=is_warfare} false, true
on_info = %=play_sound(arena_public)%
on_info2 = {-bar_arena_start} %=stop_sound%

[logic@bar_visitors_animp_arena_9]
active = animpoint@bar_visitors_animp_arena_9
suitable = {+bar_arena_start =npc_community(stalker) =npc_in_zone(bar_dolg_territory)} true, {+bar_arena_start =npc_community(dolg) =npc_in_zone(bar_dolg_territory)} true
prior = 70

[animpoint@bar_visitors_animp_arena_9]:walker@generic
reach_movement = sprint
cover_name = bar_visitors_animp_arena_9
avail_animations = hello_wpn
meet = no_meet
combat_ignore_cond = true
combat_ignore_keep_when_attacked = false
invulnerable = {=is_warfare} false, true
on_info = %=play_sound(arena_public)%
on_info2 = {-bar_arena_start} %=stop_sound%

[logic@bar_visitors_animp_arena_10]
active = animpoint@bar_visitors_animp_arena_10
suitable = {+bar_arena_start =npc_community(stalker) =npc_in_zone(bar_dolg_territory)} true, {+bar_arena_start =npc_community(dolg) =npc_in_zone(bar_dolg_territory)} true
prior = 70

[animpoint@bar_visitors_animp_arena_10]:walker@generic
reach_movement = sprint
cover_name = bar_visitors_animp_arena_10
avail_animations = hello_wpn
meet = no_meet
combat_ignore_cond = true
combat_ignore_keep_when_attacked = false
invulnerable = {=is_warfare} false, true
on_info = %=play_sound(arena_public)%
on_info2 = {-bar_arena_start} %=stop_sound%